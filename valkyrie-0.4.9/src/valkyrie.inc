{$MODE OBJFPC}
{$MODESWITCH ADVANCEDRECORDS}
{$INTERFACES CORBA}
{$COPERATORS ON}
{$MACRO ON}
{$INLINE ON}

{$IFNDEF WINDOWS}
  {$OPTIMIZATION OFF}
  {.$OPTIMIZATION REGVAR}
  {$OPTIMIZATION PEEPHOLE}
  {$OPTIMIZATION ASMCSE}
  {$OPTIMIZATION LOOPUNROLL}
  {$OPTIMIZATION CSE}
  {$OPTIMIZATION DFA}
{$ELSE}
  {$OPTIMIZATION ON}
{$ENDIF}

{$DEFINE VINLINE}
{$IFDEF FREEBSD}
  {$UNDEF VINLINE}
{$ENDIF}

{$IFDEF WINDOWS}
  {$IFNDEF LUA_STATIC}
    {$DEFINE LUA_DYNAMIC}
  {$ENDIF}
{$ELSE}
  {$IFNDEF LUA_DYNAMIC}
    {$DEFINE LUA_STATIC}
  {$ENDIF}
{$ENDIF}

{$IF (FPC_VERSION < 2) or ((FPC_VERSION = 2) and (FPC_RELEASE < 6))}
  {$FATAL To compile FPC Valkyrie you need at least Free Pascal 2.6.0!}
{$ENDIF}

